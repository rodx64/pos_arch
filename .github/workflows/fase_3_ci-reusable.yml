# ============================================
# WORKFLOW: CI com Workflows ReutilizÃ¡veis
# Demonstra como chamar workflows reutilizÃ¡veis
# ============================================
name: ðŸš€ CI with Reusable Workflows

on:
  push:
    branches: [ pos/* ]
  workflow_dispatch:

jobs:
  # ============================================
  # uses: Chama o workflow reutilizÃ¡vel desejado
  # ============================================
  
  test-node-18:
    name: ðŸ§ª Test Node 18
    uses: rodx64/workflows-library/.github/workflows/reusable-test.yml@main
    with:
      node-version: '18'
  
  test-node-20:
    name: ðŸ§ª Test Node 20
    uses: rodx64/workflows-library/.github/workflows/reusable-test.yml@main
    with:
      node-version: '20'
  
  deploy:
    name: ðŸš€ Deploy
    runs-on: ubuntu-latest
    needs: [test-node-18, test-node-20]
    
    steps:
      - name: ðŸš€ Deploy
        run: echo "âœ… Todos os testes passaram! Deploying..."
